<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Private Browser</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="browser-container">
        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-left">
                <button id="backBtn" class="toolbar-btn" title="Go Back">‚Üê</button>
                <button id="forwardBtn" class="toolbar-btn" title="Go Forward">‚Üí</button>
                <button id="reloadBtn" class="toolbar-btn" title="Reload">‚Üª</button>
            </div>
            
            <div class="address-bar-container">
                <div class="security-indicator" id="securityIndicator" title="Secure Connection (HTTPS)">üîí</div>
                <input type="text" id="addressBar" class="address-bar" placeholder="Search or enter address">
                <div class="privacy-indicator" id="privacyIndicator" title="Privacy Protection Active">üõ°Ô∏è</div>
            </div>
            
            <div class="toolbar-right">
                <button id="newTabBtn" class="toolbar-btn" title="New Tab">+</button>
                <button id="bookmarksBtn" class="toolbar-btn" title="Bookmarks">‚≠ê</button>
                <button id="contentSummaryBtn" class="toolbar-btn" title="Content Summary & Voice">ü§ñ</button>
                <button id="contentAnalysisBtn" class="toolbar-btn" title="Bias Analysis">üß†</button>
                <button id="downloadManagerBtn" class="toolbar-btn" title="Download Manager">üì•</button>
                <button id="privacyDashboardBtn" class="toolbar-btn" title="Privacy Dashboard">üìä</button>
                <button id="privacyBtn" class="toolbar-btn" title="Privacy Settings">‚öôÔ∏è</button>
            </div>
        </div>
        
        <!-- Tab Bar -->
        <div class="tab-bar">
            <div class="tabs" id="tabs">
                <!-- Tabs will be created dynamically -->
            </div>
        </div>
        
        <!-- Content Area - BrowserView will be inserted here by main process -->
        <div class="content-area">
            <!-- BrowserView content will appear here -->
        </div>
    </div>
    
    <!-- Bookmarks Modal -->
    <div id="bookmarksModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Bookmarks</h2>
                <button id="closeBookmarksModal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="bookmarks-list" id="bookmarksList">
                    <!-- Bookmarks will be populated dynamically -->
                </div>
                <div class="add-bookmark-form">
                    <h3>Add Current Page</h3>
                    <div class="form-group">
                        <label for="bookmarkTitle">Title:</label>
                        <input type="text" id="bookmarkTitle" class="form-input" placeholder="Page title">
                    </div>
                    <div class="form-group">
                        <label for="bookmarkUrl">URL:</label>
                        <input type="text" id="bookmarkUrl" class="form-input" placeholder="https://example.com">
                    </div>
                    <button id="addBookmarkBtn" class="btn-primary">Add Bookmark</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Privacy Settings Modal -->
    <div id="privacyModal" class="modal privacy-settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Privacy Settings</h2>
                <button id="closePrivacyModal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="privacy-settings-container">
                    <div class="privacy-settings-header">
                        <h2>üîí Privacy Protection</h2>
                        <p>Configure your browser's privacy and security settings</p>
                    </div>
                    
                    <div class="privacy-settings-content">
                        <div class="setting-group">
                            <h3>üõ°Ô∏è Tracking Protection</h3>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Block Trackers & Analytics</div>
                                    <div class="setting-description">Prevent websites from tracking your browsing behavior</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="blockTrackers"></button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Block Advertisements</div>
                                    <div class="setting-description">Remove ads and prevent ad networks from loading</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="blockAds"></button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Enhanced Blocking</div>
                                    <div class="setting-description">Comprehensive protection against advanced tracking methods</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="enhancedBlocking"></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>üç™ Cookie Management</h3>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">First-Party Isolation</div>
                                    <div class="setting-description">Isolate cookies by domain to prevent cross-site tracking</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="firstPartyIsolation"></button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Auto-Delete Cookies</div>
                                    <div class="setting-description">Automatically clear cookies every hour</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="autoDeleteCookies"></button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Strip Tracking Cookies</div>
                                    <div class="setting-description">Remove tracking parameters from cookies</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="stripTrackingCookies"></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>üîê Privacy Features</h3>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Disable WebRTC</div>
                                    <div class="setting-description">Prevent IP address leaks through WebRTC connections</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="disableWebRTC"></button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Disable Geolocation</div>
                                    <div class="setting-description">Prevent websites from accessing your location</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="disableGeolocation"></button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Disable Notifications</div>
                                    <div class="setting-description">Block website notification requests</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="disableNotifications"></button>
                                </div>
                            </div>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Fingerprint Protection</div>
                                    <div class="setting-description">Prevent browser fingerprinting techniques</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="fingerprintProtection"></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>üóëÔ∏è Data Management</h3>
                            <div class="setting-item">
                                <div class="setting-label">
                                    <div class="setting-title">Clear Data on Exit</div>
                                    <div class="setting-description">Automatically clear all browsing data when browser closes</div>
                                </div>
                                <div class="setting-control">
                                    <div class="setting-status active">Active</div>
                                    <button class="toggle-switch active" data-setting="clearDataOnExit"></button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="user-agent-section">
                            <h3>üåê User Agent</h3>
                            <textarea id="userAgent" class="user-agent-input" placeholder="Enter custom user agent string...">Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) private-browser/1.0.0 Chrome/120.0.6099.291 Electron/28.3.3 Safari/537.36</textarea>
                        </div>
                        
                        <div class="privacy-actions">
                            <button id="clearDataNow" class="btn-clear-data">üóëÔ∏è Clear All Data Now</button>
                            <button id="savePrivacySettings" class="btn-save-settings">üíæ Save Settings</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Privacy Dashboard Modal -->
    <div id="privacyDashboardModal" class="modal">
        <div class="modal-content dashboard-modal">
            <div class="modal-header">
                <h2>Privacy Dashboard</h2>
                <button id="closePrivacyDashboardModal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div id="privacy-dashboard">
                    <!-- Advanced Privacy Dashboard will be populated dynamically -->
                </div>
                
                <div class="blocked-requests-container">
                    <div class="blocked-requests-header">
                        <h4>Recently Blocked Requests</h4>
                        <button id="clearBlockedList" class="btn-secondary">Clear List</button>
                    </div>
                    <div class="blocked-requests-list" id="blockedRequestsList">
                        <!-- Blocked requests will be populated dynamically -->
                    </div>
                </div>
                
                <div class="testing-section">
                    <h3>Test Privacy Protection</h3>
                    <p>Visit these sites to test your privacy protection:</p>
                    <div class="test-links">
                        <button class="test-link" data-url="https://www.google.com">Google (test tracking)</button>
                        <button class="test-link" data-url="https://www.facebook.com">Facebook (test social tracking)</button>
                        <button class="test-link" data-url="https://www.cnn.com">CNN (test ads)</button>
                        <button class="test-link" data-url="https://www.nytimes.com">NY Times (test analytics)</button>
                        <button class="test-link" data-url="https://browserleaks.com">Browser Leaks (test fingerprinting)</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Download Manager Modal -->
    <div id="downloadManagerModal" class="modal">
        <div class="modal-content download-manager-modal">
            <div class="modal-header">
                <h2>üì• Download Manager</h2>
                <button id="closeDownloadManagerModal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="download-manager-container">
                    <div class="download-stats" id="downloadStats">
                        <!-- Download statistics will be populated dynamically -->
                    </div>
                    
                    <div class="download-actions-bar">
                        <button onclick="openDownloadFolder()" class="btn-secondary">üìÅ Open Downloads Folder</button>
                        <button onclick="clearCompletedDownloads()" class="btn-secondary">üóëÔ∏è Clear Completed</button>
                    </div>
                    
                    <div class="downloads-list" id="downloadsList">
                        <!-- Downloads will be populated dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Content Summary Modal -->
    <div id="contentSummaryModal" class="modal">
        <div class="modal-content content-summary-modal">
            <div class="modal-header">
                <h2>ü§ñ Content Summary & Voice</h2>
                <button id="closeContentSummaryModal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="content-summary-container">
                    <div class="summary-actions">
                        <button onclick="generateContentSummary()" class="btn-primary">üìù Generate Summary</button>
                        <button onclick="startVoiceReading()" class="btn-secondary">üîä Start Reading</button>
                        <button onclick="stopVoiceReading()" class="btn-secondary">‚èπÔ∏è Stop Reading</button>
                    </div>
                    
                    <div class="summary-content">
                        <div class="current-summary-section">
                            <h3>üìÑ Current Summary</h3>
                            <div id="currentSummary">
                                <p>No summary available. Click "Generate Summary" to start.</p>
                            </div>
                        </div>
                        
                        <div class="voice-controls">
                            <h3>üîä Voice Settings</h3>
                            <div class="voice-settings">
                                <div class="setting-group">
                                    <label for="voiceSpeed">Speed:</label>
                                    <input type="range" id="voiceSpeed" min="0.5" max="2" step="0.1" value="1" class="slider">
                                    <span id="speedValue">1x</span>
                                </div>
                                <div class="setting-group">
                                    <label for="voicePitch">Pitch:</label>
                                    <input type="range" id="voicePitch" min="0.5" max="2" step="0.1" value="1" class="slider">
                                    <span id="pitchValue">1x</span>
                                </div>
                                <div class="setting-group">
                                    <label for="voiceVolume">Volume:</label>
                                    <input type="range" id="voiceVolume" min="0" max="1" step="0.1" value="0.8" class="slider">
                                    <span id="volumeValue">80%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="summary-history-section">
                            <h3>üìö Summary History</h3>
                            <div id="summaryHistory">
                                <p>No summary history available.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Content Analysis Modal -->
    <div id="contentAnalysisModal" class="modal">
        <div class="modal-content content-analysis-modal">
            <div class="modal-header">
                <h2>üß† Bias Analysis</h2>
                <button id="closeContentAnalysisModal" class="close-btn">√ó</button>
            </div>
            <div class="modal-body">
                <div class="content-analysis-container">
                    <div class="analysis-actions">
                        <button onclick="analyzeCurrentPage()" class="btn-primary">üîç Analyze Bias</button>
                        <button onclick="clearContentAnalysisHistory()" class="btn-secondary">üóëÔ∏è Clear History</button>
                    </div>
                    
                    <div class="analysis-content">
                        <div class="current-analysis-section">
                            <h3>üìä Current Bias Analysis</h3>
                            <div id="currentAnalysis">
                                <p>No bias analysis available. Click "Analyze Bias" to start.</p>
                            </div>
                        </div>
                        
                        <div class="analysis-history-section">
                            <h3>üìö Bias Analysis History</h3>
                            <div id="contentAnalysisHistory">
                                <p>No bias analysis history available.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="renderer.js"></script>
</body>
</html>
